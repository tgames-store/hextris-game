function render(){var t,e="#bdc3c7";for(0===gameState&&(e="rgb(220, 223, 225)"),ctx.clearRect(0,0,trueCanvas.width,trueCanvas.height),clearGameBoard(),1!==gameState&&2!==gameState&&-1!==gameState&&0!==gameState||(op<1&&(op+=.01),ctx.globalAlpha=op,drawPolygon(trueCanvas.width/2,trueCanvas.height/2,6,settings.rows*settings.blockHeight*(2/Math.sqrt(3))+settings.hexWidth,30,e,!1,6),drawTimer(),ctx.globalAlpha=1),t=0;t<MainHex.blocks.length;t++)for(var a=0;a<MainHex.blocks[t].length;a++)MainHex.blocks[t][a].draw(!0,a);for(t=0;t<blocks.length;t++)blocks[t].draw();for(MainHex.draw(),1!=gameState&&-1!=gameState&&0!==gameState||drawScoreboard(),t=0;t<MainHex.texts.length;t++)MainHex.texts[t].draw()||(MainHex.texts.splice(t,1),t--);MainHex.ct<650&&0!==gameState&&!MainHex.playThrough&&(MainHex.ct>600&&(ctx.globalAlpha=(50-(MainHex.ct-600))/50),MainHex.ct<50&&(ctx.globalAlpha=MainHex.ct/50),renderBeginningText(),ctx.globalAlpha=1),settings.prevScale=settings.scale,settings.hexWidth=settings.baseHexWidth*settings.scale,settings.blockHeight=settings.baseBlockHeight*settings.scale}function renderBeginningText(){var t,e,a=trueCanvas.height/2-settings.rows*settings.blockHeight*(2/Math.sqrt(3))*(5/6),s=trueCanvas.height/2+settings.rows*settings.blockHeight*(2/Math.sqrt(3))*(11/16);/mobile|Mobile|iOS|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t=!0,input_text="Tap the screen's left and right",action_text="sides to rotate the hexagon",score_text="Match 3+ blocks to score",e=35):(t=!1,input_text="Use the right and left arrow keys",action_text="to rotate the hexagon",score_text="Match 3+ blocks to score!",e=27),renderText(trueCanvas.width/2+2*settings.scale,a-0*settings.scale,e,"#2c3e50",input_text),renderText(trueCanvas.width/2+2*settings.scale,a+33*settings.scale,e,"#2c3e50",action_text),t||drawKey("",trueCanvas.width/2+2*settings.scale-2.5,a+38*settings.scale),renderText(trueCanvas.width/2+2*settings.scale,s,e,"#2c3e50",score_text)}function drawKey(t,e,a){switch(ctx.save(),t){case"left":ctx.translate(e,a+13*settings.scale),ctx.rotate(3.14159),ctx.font="20px Fontawesome",ctx.scale(settings.scale,settings.scale),ctx.fillText(String.fromCharCode("0xf04b"),0,0);break;case"right":ctx.font="20px Fontawesome",ctx.translate(e,a+27.5*settings.scale),ctx.scale(settings.scale,settings.scale),ctx.fillText(String.fromCharCode("0xf04b"),0,0);break;default:drawKey("left",e-5,a),drawKey("right",e+5,a)}ctx.restore()}